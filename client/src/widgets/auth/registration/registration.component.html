<form
  (ngSubmit)="onSubmit()"
  [formGroup]="form"
  class="flex w-full flex-col gap-10"
>
  <div class="flex flex-col gap-2">
    <app-input
      label="Email"
      placeholder="email"
      type="text"
      [control]="form.controls['email']"
    >
    </app-input>

    @if (email?.invalid && email?.touched) {
      <p class="text-md text-red-500">
        @if (email?.errors?.["required"]) {
          <span>Email is required.</span>
        }
        @if (email?.errors?.["email"]) {
          <span>Invalid email format.</span>
        }
      </p>
    }
  </div>

  <div class="flex flex-col gap-2">
    <label for="" class="flex flex-col gap-4 text-xl font-semibold">
      Password
      <div class="relative">
        <input
          class="relative z-0 w-full rounded-lg border border-zinc-600 bg-transparent px-4 py-3 text-lg"
          formControlName="password"
          placeholder="password"
          [type]="isPasswordVisible() ? 'text' : 'password'"
        />
        <button
          (click)="isPasswordVisible.set(!isPasswordVisible())"
          class="absolute right-4 top-1/4 z-10"
          [class.active]="isPasswordVisible()"
          type="button"
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22 12C22 12 19 18 12 18C5 18 2 12 2 12C2 12 5 6 12 6C19 6 22 12 22 12Z"
              stroke="white"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <circle
              cx="12"
              cy="12"
              r="3"
              stroke="white"
              stroke-width="1.5"
              stroke-linecap="round"
            />
          </svg>
        </button>
      </div>
    </label>

    @if (password?.invalid && password?.touched) {
      <p class="text-md text-red-500">
        @if (password?.errors?.["required"]) {
          <span>Password is required.</span>
        } @else if (password?.errors?.["minlength"]) {
          <span>Password must be at least 6 characters.</span>
        } @else if (password?.errors?.["passwordInvalid"]) {
          <span>{{ password?.errors?.["passwordInvalid"] }}</span>
        }
      </p>
    }
  </div>

  <div class="flex flex-col gap-2">
    <app-input
      label="FirstName"
      placeholder="firstName"
      type="text"
      [control]="form.controls['firstName']"
    >
    </app-input>

    @if (firstName?.invalid && firstName?.touched) {
      <p class="text-md text-red-500">
        @if (firstName?.errors?.["required"]) {
          <span>FirstName is required.</span>
        }
      </p>
    }
  </div>

  <div class="flex flex-col gap-2">
    <app-input
      label="LastName"
      placeholder="lastName"
      type="text"
      [control]="form.controls['lastName']"
    >
    </app-input>

    @if (lastName?.invalid && lastName?.touched) {
      <p class="text-md text-red-500">
        @if (lastName?.errors?.["required"]) {
          <span>LastName is required.</span>
        }
      </p>
    }
  </div>

  <div class="flex flex-col gap-2">
    <label class="flex flex-col gap-4 text-xl font-semibold">
      Date of Birth
      <p-datepicker
        placeholder="date of birth"
        [showIcon]="true"
        formControlName="dateOfBirth"
        dateFormat="dd-mm-yy"
        class="custom-datepicker"
        styleClass="!w-full !text-2xl !h-14"
      />
    </label>

    @if (dateOfBirth?.invalid && dateOfBirth?.touched) {
      <p class="text-md text-red-500">
        @if (dateOfBirth?.errors?.["required"]) {
          <span>Date of birthday is required.</span>
        }
      </p>
    }
  </div>

  <div class="mt-4 flex flex-col justify-center gap-5">
    <!-- <button
      class="rounded-lg bg-indigo-600 p-4 text-2xl font-bold transition-colors duration-500 hover:bg-white hover:text-indigo-600"
      type="submit"
    >
      Registration
    </button> -->

    <app-button
      [label]="'Registration'"
      [buttonClasses]="
        'w-full bg-indigo-600 hover:bg-white hover:text-indigo-600 border-[2px] border-indigo-600'
      "
      type="submit"
    >
    </app-button>

    <button
      routerLink="/"
      class="h-full w-full rounded-lg border-2 border-indigo-500 bg-transparent p-4 text-2xl font-bold text-indigo-600 transition-colors duration-500 hover:bg-white hover:text-indigo-600"
      type="button"
    >
      Return home
    </button>
  </div>
</form>
